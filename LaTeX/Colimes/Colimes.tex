\documentclass[10pt,a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{tikz-cd}
\usepackage{calc}
\usepackage{setspace}
\usepackage[german]{babel}
\usetikzlibrary{babel}
\usepackage{cleveref}

\newcommand{\comment}[1]{}
\renewcommand{\baselinestretch}{1.1}

\newcommand{\ModulsOfDifferenzials}{Kommutativ Algebra with a view Torwards Algebraic Geometrie [David Eisenbud 1994]}

\newcounter{Aussage}[chapter]

\newtheorem{satz}[Aussage]{Satz}
\newtheorem{theorem}[Aussage]{Theorem}
\newtheorem{prop}[Aussage]{Proposition}
\newtheorem{korrolar}[Aussage]{Korrolar}
\newtheorem{lemma}[Aussage]{Lemma}
\newtheorem{bem}[Aussage]{Bemerkung}
\newtheorem{definition}[Aussage]{Definition}
\newtheorem{bsp}[Aussage]{Beispiel}

\newcommand{\functionfront}[3]{\nolinebreak{#1:#2 \longrightarrow #3}}
\newcommand{\functionback}[3]{\nolinebreak{#1:#2 \longmapsto #3}}
\newcommand{\function}[5]{\nolinebreak{#1:#2 \longrightarrow #3 \, , \, #4 \longmapsto #5}}
\newcommand{\infunctionfront}[3]{\nolinebreak{#1:#2 \hookrightarrow #3}}
\newcommand{\divR}[2]{\Omega_{#1/#2}}
\newcommand{\divf}[1]{d_{#1}}
\newcommand{\Tensor}[3]{#1 \otimes_{#2} #3}
\newcommand{\tensor}[3]{#1 \otimes #3}
\newcommand{\lok}[2]{#1 [#2^{-1}]}
\newcommand{\loke}[3]{(\frac{#1}{#2})_{_{#3}}}
\comment{\newcommand{\loke}[3]{(#1,#2)_{mod\sim_{#3}}}}

\newcommand{\colimes}[0]{\lim\limits_{ \longrightarrow }}
\newcommand*{\defeq}{\mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}%
                     =}
\newcommand*{\defeqr}{= \mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}}

\newcommand*{\defshow}{\stackrel{!}{=}}
\newcommand{\kernel}[1]{kern(#1)}
\newcommand{\immage}[1]{im(#1)}

\begin{document}
\begin{prop}\comment{\label{prof 16.2}}
Seien $R \longrightarrow S \longrightarrow T$ Ringhomomorphismen. Dann existiert folgende rechts-exakte Sequenz von T-Modulen.
\begin{center}
\end{center}

\end{prop}


\begin{bsp}\label{Ableitung ist Ableitung}
Sei $k$ ein Körper, somit entspricht $\function{\divf{k[x]}}{k[x]}{\divR{k[x]}{k}}{f}{f'\divf{k[x]}(x)}$ der analytischen Ableitung.\\
Teste dies an $f(x)=ax^2 + bx +c$:
\begin{gather*}
d(f(x)) = a \cdot d(x^2) + b \cdot d(x) = (2ax + b) d(x) = f'(x) d(x) 
\end{gather*}
\end{bsp}

\begin{definition}
Sei $K \supset k$ eine Körpererweiterung. Dann nennen wir eine Teilmenge $\lbrace b_i \rbrace_{i \in \Lambda} \subseteq T$ eine \underline{Differenzialbasis} von $K$ über $k$, falls $\lbrace \divf{K}(b_i)\rbrace_{i \in \Lambda} \subseteq T$ eine Vektorraumbasis von $\divR{T}{R}$ über $T$ ist.
\end{definition}

\begin{bsp}
Sei $k$ ein Körper und $K = k(\lbrace x_i \rbrace_{i \in \lbrace 1,\dots,n \rbrace})$ der Körper der rationalen Funktionen in $n$ Varablen über $k$.\\
Dann ist $\lbrace x_i \rbrace_{i \in \lbrace 1,\dots,n \rbrace}$ eine Differenzialbasis von $\divR{K}{k}$.
\end{bsp}
\begin{proof}
Sehe $K = \lok{k[x_1,\dots,x_n]}{k[x_1,\dots,x_n]}$ als Lokalisierung. Nach LOKALISIERUNG und POLYNOMRING gilt:
\begin{gather*}
\divR{K}{k} \simeq \tensor{K}{k[x_1,\dots,x_n]}{\divR{k[x_1,\dots,x_n]}{k}} \\
\simeq \tensor{K}{k[x_1,\dots,x_n]}{\oplus_{i \in \lbrace 1,\dots,n \rbrace} k[x_1,\dots,x_n]\langle \divf{k[x_1,\dots x_n]}(x_i) \rangle} \\
\simeq K\langle \divf{k[x_1,\dots x_n]}(x_i) \rangle
\end{gather*}
Damit ist $\lbrace x_i \rbrace_{i \in \lbrace 1,\dots,n \rbrace}$ ein Erzeugenden-System von $\divR{K}{k}$.
\end{proof}


\begin{lemma}\label{Aufbaulemma}
Sei $R \longrightarrow S \subset T$ ein Ringhomomorphismus und $S \subset T$ eine seperabel und algebraische Körpererweiterung. Dann gilt:
\begin{gather*}
\divR{T}{R} = \Tensor{T}{S}{\divR{S}{R}}
\end{gather*}
\end{lemma}
\begin{proof}
Wähle $\alpha \in T$ mit $S[\alpha] = T$. Sei weiter f(x) das Minimalpolynom von $\alpha$. Betrachte dazu die conormale Sequenz von  $\functionfront{\pi}{S[x]}{S[x]/(f) \simeq T}$ aus \cref{prop16.3}:
\begin{center}
\begin{tikzcd}
(f)/(f^2) \arrow[r, "\tensor{1}{S[x]}{\divf{S[x]}}"] & \Tensor{T}{S[x]}{\divR{S[x]}{R}} \arrow[r, "D\pi"] & \divR{T}{R} \arrow[r] & 0
\end{tikzcd}
\end{center}
Wende nun 16.6 auf $\divR{S[x]}{R}$ an und tensoriere mit $T$, somit gilt:
\begin{gather*}
\Tensor{T}{S[x]}{\divR{S[x]}{R}} \simeq \Tensor{T}{S}{\divR{S}{R}} \oplus T\langle \divf{S[x]}(x) \rangle
\end{gather*}
Zusammen mit der conormalen Sequenz bedeutet dies:
\begin{gather*}
\divR{T}{R} \simeq (\Tensor{T}{S}{\divR{S}{R}} \oplus T\langle \divf{S[x]}(x) \rangle)/(\divf{S[x]}(f))
\end{gather*}
Wenn wir $\functionfront{\divf{S[x]}}{(f)}{\Tensor{T}{S}{\divR{S}{R}} \oplus T\langle \divf{S[x](x)} \rangle}$ wie in \cref{Ableitung ist Ableitung} betrachten , sehen wir:
\begin{gather*}
\divf{S[x]}((f)) = J \oplus (f'(\alpha)\divf{S[x]}) = J \oplus T\langle \divf{S[x]}(x) \rangle \\
\text{,wobei $J \subseteq \Tensor{T}{S}{\divR{S}{R}}$ ein Ideal ist.}
\end{gather*}
Für die letzte Gleichheit nutze, dass $T \supset S$ seperabel und somit $f'(\alpha) \neq 0$ ist und nach obiger Wahl $T = S[\alpha]$ gilt.\\
Damit erhalten wir nun:
\begin{gather*}
\divR{T}{R} \simeq (\Tensor{T}{S}{\divR{S}{R}})/J \\
\Rightarrow \Tensor{T}{S}{\divR{S}{R}} \hookrightarrow \divR{T}{R} \textit{ ist surjektiv.}
\end{gather*}
Somit muss J = 0 gelten und es folgt $\Tensor{T}{S}{\divR{S}{R}} \simeq \divR{T}{R}$.
\end{proof}


\begin{theorem}\comment{\label{Differenzial-Körperbasis}}
Sei $T \supset k$ eine seperabel generierte Körpererweiterung und $B = \lbrace b_i \rbrace_{i \in \Lambda}$. Dann ist $B$ genau dann eine Differenzialbasis von $T$ über $k$, falls eine der folgedenen Bedingungen erfüllt ist:
\begin{itemize}
\item[\textbf{1.}] char(k) = 0 und $B$ ist eine Transzendenzbasis von T über k.
\item[\textit{2.}] char(k) = p und $B$ ist eine p-Basis von T über k.
\end{itemize}
\end{theorem}
\begin{proof}
\ \\
\begin{itemize}
\item[\underline{\textbf{1.}"$\Rightarrow$":}] Sei B eine Transzendenzbasis von T über k.\\
Somit ist die Körpererweiterung $K \supset S \defeq k(B)$ algebraisch und seperabel. Mit \cref{Aufbaulemma} folgt:
\begin{gather*}
\divR{T}{k} = \Tensor{T}{S}{\divR{S}{k}}
\end{gather*}
Betrachte $S$ als Lokalisierung von $K[B]$ und wende \textbf{Lokalisierung des Kähler-Differenzials} \comment{\cref{Lokalisierung des Kähler-Differenzials}} auf $\divR{S}{k}$ an, somit gilt:
\begin{gather*}
\divR{S}{k} = \Tensor{S}{k[B]}{\divR{k[B]}{k}}
\end{gather*}
In \textbf{Differenzial von Polynomalgebren 1} \comment{\label{dies brauche ich allerdings für unendliche Mengen Lambda}\cref{Differenzial von Polynomalgebren 1}} haben wir gesehen, dass $\divR{k[B]}{k}$ ein freis Modul über $k[B]$ mit $\lbrace b_i \rbrace_{i \in \Lambda}$ als Basis ist. Dies liefert uns letztendlich die gewünschte Darstellung
\begin{gather*}
\divR{T}{k} = \bigoplus_{i \in \Lambda \rbrace} T \langle \divf{T}(x_i) \rangle .
\end{gather*}
\item[\underline{\textbf{1.}"$\Leftarrow$":}]Sei $\divf{T}(B)$ eine Vektorraumbasis von $\divR{T}{k}$.\\
Zeige zunächst, dass T algebraisch über S ist.\\
Betrachte dazu die COTANGENT SEQUENZ \comment{\label{*Prop 16.2}} von $K \hookrightarrow S \hookrightarrow T$.
\begin{center}
\begin{tikzcd}
\Tensor{T}{S}{\divR{S}{k}} \arrow[r, ""] & \divR{T}{k} \arrow[r, ""] & \divR{T}{S} \arrow[r, ""] & 0
\end{tikzcd}
\end{center}
Diese besagt $\divR{T}{S} = \divR{T}{k} / \immage{\Tensor{T}{S}{\divR{S}{k}} \longrightarrow \divR{T}{k}}$.
\begin{gather*}
\text{Nach Vorraussetzung gilt } \divR{T}{k} = T \langle \divf{T}(B) \rangle. \\
\Rightarrow \immage{\Tensor{T}{S}{\divR{S}{k}} \longrightarrow \divR{T}{k}} = T\langle \divf{S}(B) \rangle \simeq \divR{T}{k}
\end{gather*}
Zusammen zeigt und dies, dass $\divR{T}{S} = 0$ gilt.\\
Da, wie wir in "$\Rightarrow$" gezeigt haben, jede Transzendenzbasis $B'$ von $T$ über $S$ auch eine Differenzialbasis $\divR{T}{S} = 0$ ist, gilt für diese $B' = \emptyset$. Da dies sonst der existens von Transzendenzbasen \textit{[vlg. PROPOSITION ] \comment{\label{*Transzendenzbasis existiert immer}}} widersprechen würde, muss somit $T$ algebraisch über $S$ sein.\\
\ \\
Zeige noch, dass $B$ auch algebraisch unabhängig über $S$ ist.\\
Sei dazu $\tau$ die minimale Teilmenge von $\Lambda$, für welche $T$ noch algebraisch über $k(\lbrace b_i \rbrace_{i \in \tau})$ ist. Für diese ist $\lbrace b_i \rbrace_{i \in \tau}$ algebraisch unabhängig über K.\\
Damit ist $\lbrace b_i \rbrace_{i \in \tau}$ ebenfalls eine Differenzialbasis von $T$ über $k$. Also muss schon $\tau = \Lambda$ gegolten haben und $B$ ist eine Transzendenzbasis von $T$ über $k$.
\end{itemize}
\end{proof}
\end{document}