\documentclass[10pt,a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{tikz-cd}
\usepackage{calc}
\usepackage{setspace}
\usepackage[german]{babel}
\usetikzlibrary{babel}
\usepackage{cleveref}

\newcommand{\comment}[1]{}
\renewcommand{\baselinestretch}{1.1}

\newcommand{\ModulsOfDifferenzials}{Kommutativ Algebra with a view Torwards Algebraic Geometrie [David Eisenbud 1994]}

\newcounter{Aussage}[chapter]

\newtheorem{satz}[Aussage]{Satz}
\newtheorem{theorem}[Aussage]{Theorem}
\newtheorem{prop}[Aussage]{Proposition}
\newtheorem{korrolar}[Aussage]{Korrolar}
\newtheorem{lemma}[Aussage]{Lemma}
\newtheorem{bem}[Aussage]{Bemerkung}
\newtheorem{definition}[Aussage]{Definition}

\newcommand{\functionfront}[3]{\nolinebreak{#1:#2 \longrightarrow #3}}
\newcommand{\functionback}[3]{\nolinebreak{#1:#2 \longmapsto #3}}
\newcommand{\function}[5]{\nolinebreak{#1:#2 \longrightarrow #3 \, , \, #4 \longmapsto #5}}
\newcommand{\infunctionfront}[3]{\nolinebreak{#1:#2 \hookrightarrow #3}}
\newcommand{\divR}[2]{\Omega_{#1/#2}}
\newcommand{\divf}[1]{d_{#1}}
\newcommand{\Tensor}[3]{#1 \otimes_{#2} #3}
\newcommand{\tensor}[3]{#1 \otimes #3}
\newcommand{\lok}[2]{#1 [#2^{-1}]}
\newcommand{\loke}[3]{(\frac{#1}{#2})_{_{#3}}}
\comment{\newcommand{\loke}[3]{(#1,#2)_{mod\sim_{#3}}}}

\newcommand{\colimes}[0]{\lim\limits_{ \longrightarrow }}
\newcommand*{\defeq}{\mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}%
                     =}
\newcommand*{\defeqr}{= \mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}}

\newcommand*{\defshow}{\stackrel{!}{=}}
\newcommand{\kernel}[1]{kern(#1)}
\newcommand{\immage}[1]{im(#1)}

\begin{document}
\begin{bem}\label{Vereinfachung des Kolimes}
Seien $\mathcal{B} \nsubseteq \mathcal{A}$ zwei Kategorien und $\functionfront{\mathcal{F}}{\mathcal{B}}{\mathcal{A}}$ ein Funktor.\\
Dann gilt im Falle der Existenz $\colimes \mathcal{F} = \colimes \mathcal{F}(\mathcal{B})$ 
\end{bem}


\begin{theorem}\comment{\label{Lokalisierung des Kähler-Differenzials}}
Sei $S$ eine $R-Algebra$ und $U \subseteq S$ multiplikativ abgeschlossen.
Dann gilt:
\begin{gather*}
\divR{\lok{S}{U}}{R} \simeq \Tensor{\lok{S}{U}}{S}{\divR{S}{R}} \text{, Wobei:}\\
 \divf{\lok{S}{U}}(\loke{1}{u}{U}) \longmapsto -\tensor{\loke{1}{u^2}{U}}{S}{\divf{S}(u)}
\end{gather*}
\end{theorem}
\begin{proof}
Wir wollen THEOREM16.8 \comment{\label{THEOREM16.8}} auf $\mathcal{B} = \lbrace \lok{S}{t} \vert t \in U \rbrace$ aus \cref{Lokalisierung von Algebren als Kolimes} anwenden.\\
Zeige also zunächsten den einfacheren Fall $\divR{\lok{S}{t}}{R} \simeq \Tensor{\lok{S}{t}}{S}{\divR{S}{R}}$ für ein beliebiges $t \in U$:
\begin{itemize}
\item[]
Nutze hierfür die Isomorphe Darstellung $\lok{S}{t} \simeq S[x]/(tx -1)$, sowie die Isomorphie $\divR{S[x]}{R} \simeq \Tensor{S[x]}{S}{\divR{S}{R}} \oplus S[x]\divf{S[x]}(x)$. aus KORROLAR16.6 \comment{\label{Korrolar16.6}}\\
Daraus erhalten wir folgende Isomorphismen:
\begin{gather*}
\functionfront{\alpha}{\lok{S}{t}}{S[x]/(tx -1)} \\
\functionfront{\beta}{S[x]/(tx -1)}{\lok{S}{t}} \\
\functionfront{\gamma}{\divR{S[x]}{R}}{ \Tensor{S[x]}{S}{\divR{S}{R}} \oplus S[x]\divf{S[x]}(x) }
\end{gather*}
Nutze diese nun, um $\divR{\lok{S}{t}}{R}$ isomorph zu $\Tensor{\lok{S}{t}}{S}{\divR{S}{R}}$ umzuformen:
\begin{center}
\begin{tikzcd}
\divR{\lok{S}{t}}{R} \arrow[d, "D\alpha"] & d_{\lok{S}{t}}(\loke{s}{t}{t}) \arrow[d, "D\alpha", maps to] \\
\divR{S[x]}{R}/\divf{S[x]}(tx - 1) \arrow[d, "\gamma"]  & {[\divf{S[x]}(sx)] = [x\divf{S[x]}(s) + s\divf{S[x]}(x)]} \arrow[d, "\gamma", maps to]  \\
(\Tensor{S[x]}{S}{\divR{S}{R}} \oplus S[x] \divf{S[x]}x) / ((tx - 1) \divf{S[x]}(tx - 1)) \arrow[d, "\beta"]   & {[\tensor{x}{S}{\divf{S}(s)} , s \divf{S[x]}(x)]} \arrow[d, "\beta", maps to]   \\
(\Tensor{\lok{S}{t}}{S}{\divR{S}{R}}) \oplus \lok{S}{t} \divf{S[x]}(x) / \divf{S[x]}(tx - 1) \defeqr M \arrow[d, "f"]       & {[\tensor{\loke{1}{t}{t}}{S}{\divf{S}(s)} , s \divf{S[x]}(x)]} \arrow[d, "f", maps to]       \\
\Tensor{\lok{S}{t}}{S}{\divR{S}{R}}                      & ( \tensor{\loke{1}{t}{t}}{S}{\divf{S}(s)} ) - ( \tensor{\loke{s}{t^2}{t}}{S}{\divf{S}(t)} )                              
\end{tikzcd}
\end{center}
Die ersten drei Schritte ergeben sich aus den oben angegeben Isomorphismen. Für den letzten Schritt definiere:
\begin{gather*}
\function{f}{M}{\Tensor{\lok{S}{t}}{S}{\divR{S}{R}}}{[\tensor{\loke{1}{t}{t}}{S}{\divf{S}(s)} , s \divf{S[x]}(x)]}{( \tensor{\loke{1}{t}{t}}{S}{\divf{S}(s)} ) - ( \tensor{\loke{s}{t^2}{t}}{S}{\divf{S}(t)} )}
\end{gather*}
Damit $f$ ein Isomorphismus ist, genügt es zu zeigen, dass $\Tensor{\lok{S}{t}}{S}{\divR{S}{R}}$ ein eindeutiges Repräsentantensystem von $M$ ist.\\
Sei dazu $[m_1,\loke{s}{t^{n}}{t}\divf{S[x]}(x)]$ ein beliebiger Erzeuger von $M$. Somit gilt:
\begin{gather*}
\divf{S[x]}(tx-1) = t\divf{S[x]}(x) + \beta(x)\divf{S[x]}(s)\\
\Rightarrow [0,\divf{S[x]}(x)] = [-\loke{1}{t^2}{t}\divf{S}(t),0]  \\ \comment{\label{\d_S[x] ~ d_S}}
\Rightarrow [m_1,\loke{s}{t^{n}}{t}\divf{S[x]}(x)] = [m_1 - \loke{s}{t^{n + 2}}{t}\divf{S}(t),0] = [f([m_1,\loke{s}{t^{n}}{t}\divf{S[x]}(x)]),0]
\end{gather*}
f ist also wie vermutet ein Isomorphismus und aus obigen Umformungen folgt
$\divR{\lok{S}{t}}{R} \simeq \Tensor{\lok{S}{t}}{S}{\divR{S}{R}} = \lok{\divR{S}{R}}{t}$. \\
Definiere für beliebige $t \in U$ folgenden Isomorphismus:
\begin{gather*}
f \circ \beta \circ \gamma  \circ D\alpha \defeqr \function{\delta_t}{\divR{\lok{S}{t}}{R}}{\lok{\divR{S}{R}}{t}}{\divf{\lok{S}{t}}(\loke{1}{t}{t})}{- \loke{\divf{S}(t)}{t^2}{t}}
\end{gather*}
\end{itemize}


Zeige nun den Allgemeinen Fall $\divR{\lok{S}{U}}{R} \simeq \Tensor{\lok{S}{U}}{S}{\divR{S}{R}}$:\\
Wähle $\mathcal{B} = \lbrace \lok{S}{t} \vert t \in U \rbrace$ wie in \cref{Lokalisierung von Algebren als Kolimes}, sodass $\colimes \mathcal{B} = \lok{S}{U}$ gilt.\\
Mit THEOREM16.8 \comment{\label{THEOREM16.8}} folgt somit:
\begin{gather*}
\divR{\lok{S}{U}}{R}  = \colimes{\mathcal{F}} \text{ mit:}\\
\function{\mathcal{F}}{\mathcal{B}}{(\lok{S}{U} - Module)}{\lok{S}{t}}{\tensor{\lok{S}{U}}{\lok{S}{t}}{\divR{\lok{S}{t}}{R}}}\\
( \functionfront{\varphi}{\lok{S}{t}}{\lok{S}{tt'}} )\\ \longmapsto 
( \functionfront{\tensor{1}{\lok{S}{t}}{D\varphi}}{ \Tensor{\lok{S}{U}}{\lok{S}{t}}{\divR{\lok{S}{t}}{R}}}{ \Tensor{\lok{S}{U}}{\lok{S}{t}}{( \Tensor{\lok{S}{t}}{\lok{S}{t}}{\divR{\lok{S}{tt'}}{R}})}} )
\end{gather*}
Zur Vereinfachung der Morphismen in $\mathcal{F}(\mathcal{B})$ definiere folgenden Isomorphismus:
\begin{gather*}
\functionfront{g}{ \Tensor{\lok{S}{U}}{\lok{S}{t}}{( \Tensor{\lok{S}{t}}{\lok{S}{t}}{\divR{\lok{S}{tt'}}{R}})}}{\Tensor{\lok{S}{U}}{\lok{S}{tt'}}{\divR{\lok{S}{tt'}}{R}}}\\
\tensor{\loke{s}{u}{U}}{\lok{S}{t}}{( \tensor{\loke{s'}{t}{t}}{\lok{S}{t}}{\divf{\lok{S}{tt'}}(x)} )} 
\longmapsto \tensor{\loke{s}{u}{U}}{\lok{S}{tt'}}{\varphi(\loke{s'}{t}{t})\divf{\lok{S}{tt'}}(x)}
\end{gather*}
Als letzten Schritt wollen wir \cref{Lokalisierung von Moduln als Kolimes} anwenden. Nutze dazu $\functionfront{\delta_t}{\divR{\lok{S}{t}}{R}}{\lok{\divR{S}{R}}{t}}$ um den zu $\mathcal{F}$ isomorphen Funktor $\mathcal{F'} \defeq \delta \circ \mathcal{F}$ zu erhalten. Um ein genaueres Bild von $\mathcal{F'}$ zu erlangen, betrachte folgendes Kommutatives Diagramm:
\begin{center}
\begin{tikzcd}
\lok{S}{t} \arrow[r, "\varphi"] \arrow[dd, "\mathcal{F}"] & \lok{S}{tt'} \arrow[d, "\mathcal{F}"]  \\
                                                 & \Tensor{\lok{S}{U}}{\lok{S}{t}}{( \Tensor{\lok{S}{t}}{\lok{S}{t}}{\divR{\lok{S}{tt'}}{R}})} \arrow[d, "g"]            \\
\Tensor{\lok{S}{U}}{\lok{S}{t}}{\divR{\lok{S}{t}}{R}} \arrow[ru, "\tensor{1}{\lok{S}{t}}{D\varphi}"] \arrow[d, "\delta_t"]         & \Tensor{\lok{S}{U}}{\lok{S}{tt'}}{\divR{\lok{S}{tt'}}{R}} \arrow[d, "\delta_{tt'}"] \\
\Tensor{\lok{S}{U}}{\lok{S}{t}}{\lok{\divR{S}{R}}{t}} \arrow[r, "\tensor{1}{\lok{S}{t}}{\varphi}"]                              & \Tensor{\lok{S}{U}}{\lok{S}{tt'}}{\lok{\divR{S}{R}}{tt'}}                          \\
\ \\
\loke{s}{t}{t} \arrow[r, "\varphi"] \arrow[d, "\divf{\lok{S}{t}}"]  & \loke{st'}{tt'}{tt'} \arrow[d, "\divf{\lok{S}{tt'}}"]           \\
{ \tensor{1}{\lok{S}{t}}{( \loke{1}{t}{t}\divf{\lok{S}{t}}(\loke{s}{1}{t}) + \loke{s}{1}{t}\divf{\lok{S}{t}}(\loke{1}{t}{t}))} \; } \arrow[d, "\delta_t"] \arrow[r, "g \circ (\tensor{1}{\lok{S}{t}}{D\varphi}) "] & {\; \tensor{1}{\lok{S}{tt'}}{( \loke{1}{tt'}{tt'}\divf{\lok{S}{tt'}}(\loke{st'}{1}{tt'}) + \loke{st'}{1}{tt'}\divf{\lok{S}{tt'}}(\loke{1}{tt'}{tt'}))}} \arrow[d, "\delta_{tt'}"] \\
\tensor{1}{\lok{S}{t}}{( \loke{\divf{S}(s)}{t}{t} - \loke{s\divf{S}(t)}{t^2}{t}  )} \arrow[r, "\tensor{1}{\lok{S}{t}}{\varphi}"]                     & \tensor{1}{\lok{S}{tt'}}{( \loke{t'\divf{S}(s)}{tt'}{tt'} - \loke{st'\divf{S}(t)}{(tt')^2}{tt'}  )} \textbf{(*)}                         
\end{tikzcd}
\end{center}
Dass das Diagramm in dieser Form kommutiert, ergibt sich in fast allen Fällen direkt aus dem Einsetzen in die entsprechenden Homomorphismen. Der einzige Fall, welcher nicht direkt klar ist, ist \textbf{(*)}. Rechne diesen also nochmal nach:
\begin{gather*}
\delta_{tt'}( \tensor{1}{\lok{S}{tt'}}{( \loke{1}{tt'}{tt'}\divf{\lok{S}{tt'}}(\loke{st'}{1}{tt'}) + \loke{st'}{1}{tt'}\divf{\lok{S}{tt'}}(\loke{1}{tt'}{tt'}))} )\\
= \tensor{1}{\lok{S}{tt'}}{( \loke{\divf{S}(st')}{tt'}{tt'} - \loke{t's\divf{S}(tt')}{(tt')^2}{tt'} )} \\
= \tensor{1}{\lok{S}{tt'}}{( \loke{t'\divf{S}(s')}{tt'}{tt'} + \loke{s\divf{S}(t')}{tt'}{tt'} 
- \loke{tt'\divf{S}(t')}{(tt')^2}{tt'} - \loke{t'^2s\divf{S}(t)}{(tt')^2}{tt'} )} \\
\comment{ = \tensor{1}{\lok{S}{tt'}}{( \loke{t'\divf{S}(s)}{tt'}{tt'} + \loke{s\divf{S}(t')}{tt'}{tt'} - \loke{s\divf{S}(tt')}{tt'}{tt'} - \loke{t'^2s\divf{S}(t)}{(tt')^2}{tt'} )} \\ }
= \tensor{1}{ \lok{S}{tt'}}{( \loke{t'\divf{S}(s)}{tt'}{tt'} - \loke{t'^2s\divf{S}(t)}{(tt')^2}{tt' } )} \\
= (\tensor{1}{\lok{S}{t}}{\varphi})(\tensor{1}{\lok{S}{t}}{( \loke{\divf{S}(s)}{t}{t} - \loke{s\divf{S}(t)}{t^2}{t}  )})
\end{gather*}
\comment{Damit haben wir einen zu $\mathcal{F}$ isomorphen Funktor gefunden:
\begin{gather*}
\functionfront{\mathcal{F'}}{\mathcal{B}}{(\lok{S}{U} - Module)}\\
\lok{S}{t} \longmapsto \Tensor{\lok{S}{U}}{\lok{S}{t}}{\lok{\divR{S}{R}}{t}}\\
\varphi \longmapsto \tensor{1}{\lok{S}{t}}{\varphi}
\end{gather*}}
Damit ist $\mathcal{F'}$ zu $\mathcal{F}$ isomorph und für $\mathcal{C} \defeq \mathcal{F'}(\mathcal{B})$ gilt $\divR{\lok{S}{U}}{R}  = \colimes{\mathcal{F'}} = \colimes{\mathcal{C}}$ \textit{[vlg. \cref{Vereinfachung des Kolimes}]}.
Wobei die Form von $\mathcal{C}$ genau dem Fall aus \cref{Lokalisierung von Moduln als Kolimes} entspricht:
\begin{gather*}
\comment{\divR{\lok{S}{U}}{R}  = \colimes{\mathcal{C}} \text{, wobei:} \\}
\mathcal{C} = \lbrace \Tensor{\lok{S}{U}}{\lok{S}{t}}{\lok{\divR{S}{R}}{t}} \vert t \in U \rbrace \textit{ mit den Morphismen }\\
\functionfront{\tensor{1}{\lok{S}{t}}{\varphi}}{\Tensor{\lok{S}{U}}{\lok{S}{t}}{\lok{\divR{S}{R}}{t}}}{\Tensor{\lok{S}{U}}{\lok{S}{tt'}}{\lok{\divR{S}{R}}{tt'}}} \\
\tensor{\loke{s}{u}{U}}{\lok{S}{t}}{\loke{\divf{S}(x)}{t^n}{t}} \longmapsto \tensor{\loke{s}{u}{U}}{\lok{S}{tt'}}{\loke{t'^n\divf{S}(x)}{(tt')^n}{tt'}}
\end{gather*}
Damit folgt $\colimes \mathcal{C} = \lok{\divR{S}{R}}{U}$ und wir haben $\divR{\lok{S}{U}}{R} = \lok{\divR{S}{R}}{U}$ gezeigt.
\end{proof}
\end{document}